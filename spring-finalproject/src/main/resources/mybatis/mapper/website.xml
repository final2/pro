<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.finalproject.dao.WebsiteDao">

	<!-- 전체 공지사항 불러오기 -->
	<select id="getAllBoard" resultType="WBoard">
		select
			no		as no,
			title	as title,
			content	as content,
			regdate	as regdate
		from 
			userboard
	</select>

	<!-- 게시글 번호로 공지사항 불러오기 -->
	<select id="getWBoardByNo" parameterType="int" resultType="WBoard">
		select
			no		as no,
			title	as title,
			content	as content,
			regdate	as regdate
		from 
			userboard
	
		where no = #{value}
	</select>
	
	<!-- 이벤트 제품 불러오기 -->
	<select id="getProductByEvent" parameterType="int" resultType="Product">
		select
			no			as no,
			name		as name,
			maker		as maker,
			price		as price,
			memo 		as memo,
		    limiteage 	as limiteAge,
		    eventcode 	as event,
		    smallcategory_no as smallCat,
		    image 		as image
		from 
			product
		where eventcode = #{value}
	</select>
	
	<!-- 편의점 LOTTO 검색 -->
	<select id="getBranchByLotto" parameterType="String" resultType="Branch">
		select 
			NO 				as no,
			NAME 			as name,
			PHONE			as phone,
			ADDRESS 		as address,
			ATM 			as atm, 
			FRESHFOOD 		as freshFood,
			IMAGE 			as img, 
			LOTTO 			as lotto,
			PARCELSERVICE 	as parcelService,
			LIFESERVICE 	as lifeService,
			EMPLOYEE_NO 	as emp
		from 
			BRANCH 
		where
			LOTTO = 'Y'
	</select>
	
	<!-- 편의점 ATM 검색 -->
 	<select id="getBranchByATM" parameterType="String" resultType="Branch">
		select 
			NO 				as no,
			NAME 			as name,
			PHONE			as phone,
			ADDRESS 		as address,
			ATM 			as atm, 
			FRESHFOOD 		as freshFood,
			IMAGE 			as img, 
			LOTTO 			as lotto,
			PARCELSERVICE 	as parcelService,
			LIFESERVICE 	as lifeService,
			EMPLOYEE_NO 	as emp
		from 
			BRANCH 
		where
			ATM = 'Y'
	</select> 
	
	<!-- 편의점 PARCELSERVICE 검색 -->
	<select id="getBranchByPARCELSERVICE" parameterType="String" resultType="Branch">
		select 
			NO 				as no,
			NAME 			as name,
			PHONE			as phone,
			ADDRESS 		as address,
			ATM 			as atm, 
			FRESHFOOD 		as freshFood,
			IMAGE 			as img, 
			LOTTO 			as lotto,
			PARCELSERVICE 	as parcelService,
			LIFESERVICE 	as lifeService,
			EMPLOYEE_NO 	as emp
		from 
			BRANCH 
		where
			PARCELSERVICE = 'Y'
	</select>
</mapper>